<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Movie Management</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<!--<style>
	
        body{
           background-image:url("/images/kc.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed; 
            background-size: 100% 100%;
        }
        </style>-->
</head>
<body style="background-color:burlywood;">
    <a href="/add_movie" role="button" class="btn btn-warning">Add New Movie</a>
<div class="class-title bg-info text-light text-center"><h2>View Movies </h2></div>
    <!-- Display Old Movies with Edit and Delete Options -->
    <table class="table table-striped" border="1" width="80%">
        <tr class="table-row bg-dark text-light">
            <th>Movie ID</th>
            <th>Movie Name</th>
            <th>Image</th>
            <th>Movie Details</th>
            
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        <!-- Iterate through old movies and display them -->
        <tr th:each="movie : ${movies}">
            <td th:text="${movie.movieId}"></td>
            <td th:text="${movie.movieName}"></td>
            <td>
                <img th:src="@{/images/} + ${movie.image}" width="100" height="100" alt="Movie Image"/>
            </td>
            <td th:text="${movie.description}"></td>
            
            <td>
                <a th:href="@{/edit_movie/{movieId}(movieId=${movie.movieId})}" role="button" class="btn btn-success" ><i class="bi bi-exposure"></i> Edit </a></td>
                
             <td>   <a th:href="@{/delete_movie/{movieId}(movieId=${movie.movieId})}"  role="button" class="btn btn-danger"><i class="bi bi-journal-x"></i> Delete </a></td>
            
        </tr>
    </table>
</body>
</html>